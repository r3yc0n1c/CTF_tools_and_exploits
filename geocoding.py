from geopy.geocoders import Nominatim    # pip install geopy

locator = Nominatim(user_agent="myGeocoder")

addresses = [
    "Garland",
    "Edmonton",
    "Oakland",
    "Pune",
    "Yangon",
    ]

def get_coordinates(addresses: list):
    coordinates = []

    for ad in addresses:
        loc = locator.geocode(ad, language='en',timeout=1000).raw
        co = (loc['lat'], loc['lon'])
        # print(loc)
        print(co)
        coordinates.append( co )
    return coordinates

def get_location(coordinates: list):
    locations = []

    for c in coordinates:
        loc = locator.reverse(c, language='en', timeout=1000).raw        
        print(loc)
        locations.append( loc )
    return locations

# Encode
coordinates = get_coordinates(addresses)
print(coordinates)

# coordinates = [('32.912624', '-96.6388833'), ('53.535411', '-113.507996'), ('37.8044557', '-122.2713563'), ('18.521428', '73.8544541'), ('16.7967129', '96.1609916')]

# Decode
loc = get_location(coordinates)
print(loc)

flag = ""

for c in loc:
    city = c['address']['city']
    print(city)
    flag += city[0]

print("FLAG -> flag{%s}" % flag)
